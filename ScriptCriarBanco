
CREATE SCHEMA IF NOT EXISTS punch_the_clock DEFAULT CHARACTER SET utf8mb4 ;
USE punch_the_clock;


CREATE TABLE IF NOT EXISTS cargo (
  idCargo INT(11) AUTO_INCREMENT,
  drescricao VARCHAR(45) NOT NULL,
  PRIMARY KEY (idCargo));

CREATE TABLE IF NOT EXISTS plano (
  idPlano INT(11) NOT NULL AUTO_INCREMENT,
  preco DOUBLE NOT NULL,
  quantidadeFuncionario INT(11) NOT NULL,
  PRIMARY KEY (idPlano));
  
  CREATE TABLE IF NOT EXISTS empresa (
  idEmpresa INT(11)  AUTO_INCREMENT,
  nome VARCHAR(45) NOT NULL,
  CNPJ VARCHAR(14) NOT NULL,
  telefone VARCHAR(15) NULL DEFAULT NULL,
  planoId INT(11) NULL DEFAULT NULL,
  PRIMARY KEY (idEmpresa),
    FOREIGN KEY (planoId)
    REFERENCES punch_the_clock.plano (idPlano));
    
    
CREATE TABLE IF NOT EXISTS punch_the_clock.funcionario (
  idFuncionario INT(11) NOT NULL AUTO_INCREMENT,
  nome VARCHAR(45) NOT NULL,
  CPF VARCHAR(45) NOT NULL,
  dataNascimento DATE NOT NULL,
  telefone VARCHAR(15) NULL DEFAULT NULL,
  estadoCivil VARCHAR(45) NOT NULL,
  email VARCHAR(45) NOT NULL,
  senha VARCHAR(45) NOT NULL,
  empresaId INT(11) NOT NULL,
  cargoId INT(11) NOT NULL,
  PRIMARY KEY (idFuncionario),
    FOREIGN KEY (cargoId)
    REFERENCES punch_the_clock.cargo (idCargo),
    FOREIGN KEY (empresaId)
    REFERENCES punch_the_clock.empresa (idEmpresa));
    
    CREATE TABLE IF NOT EXISTS punch_the_clock.pontos (
  idPontos INT(11)  AUTO_INCREMENT,
  data DATE NOT NULL,
  hora INT(11) NOT NULL,
  funcionarioId INT(11) NOT NULL,
  PRIMARY KEY (idPontos),
    FOREIGN KEY (funcionarioId)
    REFERENCES punch_the_clock.funcionario (idFuncionario));
  

    